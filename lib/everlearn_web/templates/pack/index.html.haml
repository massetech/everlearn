%nav.top-nav.z-depth-0.nav-extended.color-banner
  .nav-wrapper.valign-wrapper
    %h4.title.color-title= "Packs"
    - link to: pack_path(@conn, :new), class: "btn-floating btn-large halfway-fab waves-effect waves-light color-btn-action" do
      %i.material-icons= "add"
.container
  .row
    .section
      = render "search_form.html", conn: @conn, rummage: @rummage, classrooms: @classrooms, levels: @levels, status: @status
      -# = text_input :search, :title, value: "This is a prepopulated value"
      -# = link "dede", to: pack_path(@conn, :index, %{"title" => %{"assoc" => [], "search_type" => "like", "search_term" => "field_!"}})
        -# # class: "waves-effect waves-light marged"
          -# %i.material-icons.color-icon-edit= "remove_red_eye"
      -# = search_form(@conn, @rummage, [fields:
      -#   [
      -#     title: %{label: "Search by item title", search_type: "ilike"}
      -#   ], button_class: "btn",
      -# ])
  .row
    .section
      %table.bordered.responsive-table
        %tr
          %th.center-align.color-text= "ID"
          %th.center-align.color-text= "Language"
          %th.center-align.color-text= "Title"
          %th.center-align.color-text= "Classroom"
          %th.center-align.color-text= "Level"
          %th.center-align.color-text= "Nb items"
          %th.center-align.color-text= "Description"
          %th.center-align.color-text= "Active"
          %th.center-align.color-text= "Actions"
        - for pack <- @packs do
          %tr
            %td.center-align= pack.id
            %td.center-align= pack.language.code
            %td.center-align.color-text= pack.title
            %td.center-align.color-text= pack.classroom.title
            %td.center-align.color-text= pack.level
            %td.center-align.color-text= Enum.count(pack.packitems)
            %td.center-align.color-text= pack.description
            %td.center-align
              - if pack.active == true do
                %i.material-icons.color-icon-true= "check_circle"
              - else
                %i.material-icons.color-icon-false= "cancel"
            %td.center-align
              - link to: pack_path(@conn, :show, pack), class: "waves-effect waves-light marged" do
                %i.material-icons.color-icon-edit= "remove_red_eye"
              - link to: pack_path(@conn, :edit, pack), class: "waves-effect waves-light marged" do
                %i.material-icons.color-icon-edit= "edit"
              - link to: pack_path(@conn, :delete, pack), method: :delete, data: [confirm: "Are you sure?"], class: "waves-effect waves-light marged" do
                %i.material-icons.color-icon-false= "delete_forever"

  .row
    .section
      = pagination_link(@conn, @rummage)
